# 설계 품질과 트레이드오프

> 객체지향 설계란 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동이다

- 객체를 데이터의 집합으로 바라보는 시각은 객체의 내부 구현을 노출시키는 결과를 낳음 -> **객체의 행동에 초점을 맞춰야 함**

### 설계 트레이드오프

- 캡슐화
  - 캡슐화를 통해 변경 갸능성이 높은 구현을 외부에 감춤으로써 변경의 여파를 줄일 수 있음
  - 구현: 변경 가능성이 높은 부분
  - 인터페이스: 상대적으로 변경 가능성이 낮은 부분
  - 캡슐화를 통해 추상화
- 응집도와 결합도
  - 응집도: 모듈에 포함된 내부 요소들이 연관돼 있는 정도
    - 변경의 관점 -> 변경이 발생할 때 모듈 내부에서 발생하는 변경의 정도
    - 하나의 변경을 위해 모듈 전체가 함께 변경된다면 응집도가 높은 모듈
  - 결합도: 의존성의 정도를 나타내며 다른 모듈에 대해 얼마나 많은 지식을 갖고 있는지를 나타내는 척도
    - 변경의 관점 -> 한 모듈이 변경되기 위해서 다른 모듈의 변경을 요구하는 정도
    - 인터페이스에 의존하도록 코드를 작성해야 낮은 결합도를 얻을 수 있음

> 캡슐화를 위반하면 모듈 안의 응집도는 낮아지고 모듈 사이의 결합도는 높아진다. 따라서 응집도와 결합도를 고려하기 전에 먼저 캡슐화를 향상시키기 위해 노력하라

**단일 책임 원칙(SRP)**
> 클래스는 단 한가지 변경 이유만 가져야 한다.
> </br>단 단일 책임 원칙이라는 맥락에서 책임이라는 말은 변경의 이유라는 의미로 사용된다.

### 데이터 중심 설계의 문제점

- 설계 시 너무 이른 시기에 데이터에 대해 결정하도록 강요함
  - 객체의 행동보다 상태에 초점을 맞추게 하기 때문에 접근자와 수정자를 과도하게 추가하게 됨
  - 캡슐화가 깨짐
- 협력이라는 문맥을 고려하지 않고 객체를 고립시킨 채 오퍼레이션을 결정
  - 설계의 초점이 외부가 아닌 내부로 향하기 때문에 결합도가 높아짐